<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SDF text renderer example</title>
    <script src="./assets/roboto.js"></script>
    <script src="../node_modules/pixi.js/dist/pixi.js"></script>
    <script src="../dist/pixi-awesome-text.min.js"></script>
    <style>
        html, body {
            background-color: #9B5BD0;
            color: white;
            margin: 0;
        }
        a, a:visited {
            color: #39FF14;
        }
    </style>
</head>
<body>
<div style="position: absolute; top: 0; left: 0; padding-left: 20px; font-family: 'Helvetica Neue', Arial; pointer-events: none;">

</div>
<script>


  PIXI.settings.MIPMAP_TEXTURES = false;

  var app = new PIXI.Application(1800, 800, {
    transparent: true,
    antialias: true
  });

  app.renderer.plugins.interaction.on( 'mousedown', e => {

    if (PIXI.extras.AwesomeText.currentEditingElement != null) {
      if (e.currentTarget !== PIXI.extras.AwesomeText.currentEditingElement) {
        PIXI.extras.AwesomeText.currentEditingElement.setState(PIXI.extras.AwesomeText.states.regular);
      }
    }

  });

  document.body.appendChild(app.view);


  var fontData = {
    data: 'assets/robot.js',
    image: 'assets/roboto.png'
  };

  PIXI.loader.add(fontData.image, fontData.image).load((loader, resources) => {

    font = roboto_font;
    tex = resources[fontData.image].texture;

    window.text = new PIXI.extras.AwesomeText("Hello darkness, my old friend I've come to talk with you again Because a vision softly creeping Left its seeds while I was sleeping", {
      fontSize: 22 * 0.7,
      backgroundColor: '#9B5BD0',
      fill: '#ffffff',
      breakWords: true,
      wordWrapWidth: 500,
      align: 'left',
      uppercase: true,
    }, {
      font: font,
      texture: tex,
      uppercase: true,
      editable: true,
      antialiasing: false
    });

    text.x = 100;
    text.y = 100;

    app.stage.addChild(text);

  });

</script>
</body>
</html>
